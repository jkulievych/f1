{% extends "base.html" %}

{# Встановлюємо заголовок вкладки браузера #}
{% block title %}Plot - F1 Dashboard{% endblock %}

{# Додаємо CSS, специфічний для цієї сторінки (графік) #}
{% block head %}
    <style>
        .plot-container {
            width: 100%;
            margin: 20px auto;
            text-align: center;
        }
        .plot-container img {
            max-width: 100%; /* Графік не буде ширшим за контейнер */
            height: auto;
            display: inline-block;
            border: 1px solid var(--f1-border);
            border-radius: 8px;
        }
        
        /* Якщо це темний графік (наприклад, Pace), додаємо тло */
        .plot-container.dark-plot img {
            background-color: #333;
        }
        
        /* Стиль для навігації "Назад" */
        .nav-links {
            margin-top: 30px;
            text-align: center;
        }
    </style>
{% endblock %}

{# Основний контент сторінки #}
{% block content %}
    <h2>{{ session_name }}</h2>
    
    {% if driver_2 %}
        <h3>Fastest Lap Speed Comparison ({{ driver_1 }} vs {{ driver_2 }})</h3>
    {% else %}
        <h3>{{ driver_1 }}</h3>
    {% endif %}

    <div class="plot-container {% if 'Pace' in session_name %}dark-plot{% endif %}">
        <img src="{{ url_for('static', filename=plot_filename) }}?v={{ cache_buster }}"
             alt="Generated Plot">
    </div>

    <div class="nav-links">
        <a href="javascript:window.close();" class="button-red" style="padding: 10px 20px; font-size: 0.9rem;">
            Close Tab
        </a>
    </div>
{% endblock %}